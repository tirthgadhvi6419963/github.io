<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ğŸ’˜ For Aayushi</title>

<style>
:root{
  --pink:#ff2d75;
  --pink2:#ff5aa5;
}

body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto;
  background: linear-gradient(135deg,#ffeaf2,#fff2d9);
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  overflow:hidden;
}

/* floating hearts */
.heart{
  position:absolute;
  width:16px;
  height:16px;
  background:white;
  transform:rotate(45deg);
  animation: float 8s linear infinite;
  opacity:.7;
}
.heart:before,.heart:after{
  content:"";
  position:absolute;
  width:16px;height:16px;
  background:white;
  border-radius:50%;
}
.heart:before{ left:-8px;}
.heart:after{ top:-8px;}

@keyframes float{
  from{ transform:translateY(100vh) rotate(45deg); opacity:0;}
  20%{opacity:1;}
  to{ transform:translateY(-120vh) rotate(45deg); opacity:0;}
}

.card{
  width:min(800px,95vw);
  background:white;
  border-radius:24px;
  padding:30px 20px;
  text-align:center;
  box-shadow:0 25px 60px rgba(0,0,0,.15);
  position:relative;
}

h1{
  font-size:clamp(28px,5vw,52px);
  margin:10px 0;
}

.choiceBox{
  margin-top:20px;
  border:1px dashed #ccc;
  border-radius:20px;
  padding:30px;
  position:relative;
  min-height:420px; /* enlarged boundary */
  display:flex;
  align-items:center;
  justify-content:center;
}

.choiceRow{
  display:flex;
  gap:14px;
}

.btn{
  padding:14px 24px;
  border:none;
  border-radius:999px;
  font-weight:bold;
  font-size:16px;
  cursor:pointer;
}

.btnYes{
  background:linear-gradient(135deg,var(--pink),var(--pink2));
  color:white;
}

.btnNo{
  background:black;
  color:white;
}

.success{ display:none; }

.giftPanel{
  display:none;
  margin-top:20px;
}

.giftGrid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:12px;
  margin-top:15px;
}

.giftCard{
  border:1px solid #ddd;
  padding:15px;
  border-radius:16px;
  cursor:pointer;
}

.giftCard.selected{
  border-color:var(--pink);
  box-shadow:0 10px 25px rgba(255,45,85,.3);
}

canvas{
  position:fixed;
  inset:0;
  pointer-events:none;
}

@media(max-width:500px){
  .giftGrid{ grid-template-columns:1fr; }
}
</style>
</head>

<body>

<canvas id="fx"></canvas>

<div class="card">

<section id="ask">
  <h1>Aayushiâ€¦ will you be my Valentine? ğŸ’–</h1>

  <div class="choiceBox">
    <div class="choiceRow">
      <button class="btn btnYes" id="yesBtn">YES ğŸ’˜</button>
      <button class="btn btnNo" id="noBtn">NO ğŸ˜³</button>
    </div>
  </div>
</section>

<section class="success" id="success">
  <h1>YAYYY! Itâ€™s a date ğŸ’</h1>

  <button class="btn btnYes" id="celebrateBtn">Celebrate ğŸ‰</button>

  <div class="giftPanel" id="giftPanel">
    <h3>Pick what you want ğŸ˜„</h3>

    <div class="giftGrid" id="giftGrid">
      <div class="giftCard" data-gift="Flowers ğŸ’">ğŸ’ Flowers</div>
      <div class="giftCard" data-gift="Chocolate ğŸ«">ğŸ« Chocolate</div>
      <div class="giftCard" data-gift="Small teddy ğŸ§¸">ğŸ§¸ Small teddy</div>
      <div class="giftCard" data-gift="Flowers + Ice cream ğŸ’ğŸ¦">ğŸ’ğŸ¦ Flowers + Ice cream</div>
    </div>

    <button class="btn btnYes" id="confirmBtn" style="margin-top:15px;">
      Confirm âœ…
    </button>

    <div id="status" style="margin-top:10px;"></div>
  </div>
</section>

</div>

<script>

/* floating hearts */
for(let i=0;i<15;i++){
  const h=document.createElement("div");
  h.className="heart";
  h.style.left=Math.random()*100+"vw";
  h.style.animationDuration=6+Math.random()*5+"s";
  document.body.appendChild(h);
}

/* canvas confetti */
const canvas=document.getElementById("fx");
const ctx=canvas.getContext("2d");
let W,H;
function resize(){W=canvas.width=innerWidth;H=canvas.height=innerHeight;}
resize();window.onresize=resize;

let particles=[];
function burst(){
  for(let i=0;i<120;i++){
    particles.push({
      x:W/2,
      y:H/2,
      vx:(Math.random()-.5)*10,
      vy:(Math.random()-.5)*10,
      life:100
    });
  }
}
function tick(){
  ctx.clearRect(0,0,W,H);
  particles.forEach(p=>{
    p.x+=p.vx;
    p.y+=p.vy;
    p.life--;
    ctx.fillStyle="rgba(255,45,117,.8)";
    ctx.fillRect(p.x,p.y,4,4);
  });
  particles=particles.filter(p=>p.life>0);
  requestAnimationFrame(tick);
}
tick();

const yesBtn=document.getElementById("yesBtn");
const noBtn=document.getElementById("noBtn");
const ask=document.getElementById("ask");
const success=document.getElementById("success");
const celebrateBtn=document.getElementById("celebrateBtn");
const giftPanel=document.getElementById("giftPanel");
const giftGrid=document.getElementById("giftGrid");
const confirmBtn=document.getElementById("confirmBtn");
const statusBox=document.getElementById("status");

let selectedGift="";

yesBtn.onclick=()=>{
  ask.style.display="none";
  success.style.display="block";
  burst();
};

/* NO confined inside boundary */
function moveNoBtn(){
  const box=document.querySelector(".choiceBox");
  const boxRect=box.getBoundingClientRect();
  const rect=noBtn.getBoundingClientRect();

  if(noBtn.dataset.active!=="1"){
    noBtn.dataset.active="1";
    noBtn.style.position="absolute";
    noBtn.style.zIndex="50";
    noBtn.style.left=(rect.left-boxRect.left)+"px";
    noBtn.style.top=(rect.top-boxRect.top)+"px";
  }

  const pad=14;
  const maxLeft=boxRect.width-rect.width-pad;
  const maxTop=boxRect.height-rect.height-pad;

  noBtn.style.left=pad+Math.random()*maxLeft+"px";
  noBtn.style.top=pad+Math.random()*maxTop+"px";
}

noBtn.addEventListener("pointerenter",moveNoBtn);
noBtn.addEventListener("pointerdown",e=>{
  e.preventDefault();
  moveNoBtn();
});

celebrateBtn.onclick=()=>{
  giftPanel.style.display="block";
  burst();
};

giftGrid.onclick=e=>{
  const card=e.target.closest(".giftCard");
  if(!card)return;
  document.querySelectorAll(".giftCard")
    .forEach(c=>c.classList.remove("selected"));
  card.classList.add("selected");
  selectedGift=card.dataset.gift;
};

confirmBtn.onclick=()=>{
  if(!selectedGift){
    statusBox.textContent="Pick one first ğŸ˜„";
    return;
  }
  statusBox.textContent="Locked in: "+selectedGift+" ğŸ’–";
  burst();
};

</script>

</body>
</html>
